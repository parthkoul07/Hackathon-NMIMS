<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script>
    // FORCE IMMEDIATE START - NO CLICK REQUIRED
    window.addEventListener('load', () => {
        const startGame = () => {
            const runtime = document.createElement('script');
            runtime.src = "{{ runtime }}";
            document.head.appendChild(runtime);

            runtime.onload = () => {
                const loader = document.createElement('script');
                loader.src = "{{ loader }}";
                document.head.appendChild(loader);

                loader.onload = () => {
                    pygame_web.runtime.start();
                    // Keep checking canvas stays visible
                    setInterval(() => {
                        const canvas = document.getElementById('canvas');
                        if (canvas && canvas.style.display === 'none') {
                            canvas.style.display = 'block';
                        }
                    }, 100);
                };
            };
        };
        startGame();
    });
    </script>
    <style>
        body { margin:0; padding:0; overflow:hidden; }
        canvas { display:block !important; width:100%; height:100%; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
</body>
</html>